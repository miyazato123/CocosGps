window.__require=function t(o,e,n){function i(a,c){if(!e[a]){if(!o[a]){var s=a.split("/");if(s=s[s.length-1],!o[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}}var p=e[a]={exports:{}};o[a][0].call(p.exports,function(t){return i(o[a][1][t]||t)},p,p.exports,t,o,e,n)}return e[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({Main:[function(t,o,e){"use strict";cc._RF.push(o,"e1b90/rohdEk4SdmmEZANaD","Main");var n=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),i=this&&this.__decorate||function(t,o,e,n){var i,r=arguments.length,a=r<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,o,e,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(o,e,a):i(o,e))||a);return r>3&&a&&Object.defineProperty(o,e,a),a};Object.defineProperty(e,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,s=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.info=null,o.heading=null,o.arrow=null,o}return n(o,t),o.prototype.onLoad=function(){this.Initialize()},o.prototype.Initialize=function(){var t=this;navigator.geolocation.watchPosition(function(o){t.onSuccess(o)},this.onError,{enableHighAccuracy:!0,timeout:2e4,maximumAge:1e3}),this.os=this.DetectOSSimply(),"iphone"==this.os?window.addEventListener("deviceorientation",function(o){t.Orientation(o)},!0):"android"==this.os?window.addEventListener("deviceorientationabsolute",function(o){t.Orientation(o)},!0):window.alert("PC\u672a\u5bfe\u5fdc\u30b5\u30f3\u30d7\u30eb")},o.prototype.Orientation=function(t){t.absolute;var o,e=t.alpha,n=t.beta,i=t.gamma;o="iphone"==this.os?t.webkitCompassHeading:this.CompassHeading(e,n,i),this.heading.string="heading\uff1a"+o,this.arrow.rotation=o},o.prototype.DetectOSSimply=function(){return navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0?"iphone":navigator.userAgent.indexOf("Android")>0?"android":"pc"},o.prototype.Get=function(){},o.prototype.CompassHeading=function(t,o,e){var n=Math.PI/180,i=o?o*n:0,r=e?e*n:0,a=t?t*n:0,c=(Math.cos(i),Math.cos(r)),s=Math.cos(a),u=Math.sin(i),p=Math.sin(r),d=Math.sin(a),f=-s*p-d*u*c,h=-d*p+s*u*c,l=Math.atan(f/h);return h<0?l+=Math.PI:f<0&&(l+=2*Math.PI),l*(180/Math.PI)},o.prototype.onSuccess=function(t){console.log({"\u7def\u5ea6":t.coords.latitude,"\u7d4c\u5ea6":t.coords.longitude}),this.info.string="\u7def\u5ea6: "+t.coords.latitude+"\n\u7d4c\u5ea6: "+t.coords.longitude+"\n\u89d2\u5ea6\uff1a"+t.coords.heading+"\n\u901f\u5ea6\uff1a"+t.coords.speed},o.prototype.onError=function(t){alert("\u30b3\u30fc\u30c9: "+t.code+"\n\u30e1\u30c3\u30bb\u30fc\u30b8: "+t.message+"\n")},i([c(cc.Label)],o.prototype,"info",void 0),i([c(cc.Label)],o.prototype,"heading",void 0),i([c(cc.Node)],o.prototype,"arrow",void 0),o=i([a],o)}(cc.Component);e.default=s,cc._RF.pop()},{}]},{},["Main"]);